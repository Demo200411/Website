<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lawgic â€” Static Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap');
    @import url('https://rsms.me/inter/inter.css');

    /* Basic reset and typography */
    * { box-sizing: border-box; }
    html,body { height:100%; margin:0; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:#0c1d1b; color:#e6eef0; }

    /* Layout */
    .app { min-height:100vh; position:relative; padding-bottom:48px; }
    header { display:flex; justify-content:space-between; align-items:center; padding:16px; }
    .left, .right { display:flex; align-items:center; gap:12px; }
    .btn { border:0; cursor:pointer; padding:8px 14px; border-radius:10px; font-weight:600; }
    .btn-primary { background:#1a2b6d; color:white; box-shadow:0 6px 18px rgba(26,43,109,0.18); }
    .btn-green { background:#1faa59; color:white; }
    .btn-ghost { background:transparent; color:#e6eef0; border-radius:8px; padding:8px; }
    .small-btn { padding:6px 10px; font-size:14px; border-radius:8px; }

    /* Back button */
    .back { background:#14202b; display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:999px; }

    /* Pages */
    .page { display:none; padding:32px 20px; max-width:1100px; margin:0 auto; }
    .page.active { display:block; }

    /* Hero */
    .hero { display:flex; flex-direction:column; align-items:center; text-align:center; gap:18px; padding-top:36px; }
    .brand-svg { width:420px; height:auto; max-width:86vw; }
    /* Adjusted font sizes for the title and tagline */
    .h1 { font-size:50px; line-height:1.2; color:#f7d77a; font-weight:700; margin:0; }
    .lead { font-size:30px; line-height:1.5; color:#cdddde; max-width:720px; margin:0 auto; }

    /* Buttons row */
    .actions { display:flex; gap:12px; margin-top:8px; }

    /* Upload card */
    .card { background:#0f1720; border-radius:14px; padding:28px; border:1px dashed rgba(255,255,255,0.06); }
    .grid { display:grid; gap:16px; grid-template-columns:repeat(3,1fr); }
    .doc { background:#12161a; padding:16px; border-radius:12px; cursor:pointer; }

    /* Summary layout */
    .columns { display:grid; gap:16px; grid-template-columns:1fr 1fr; }
    .panel { background:#0f1720; padding:18px; border-radius:12px; height:70vh; overflow:auto; }

    /* Chat input area */
    .chat-row { display:flex; gap:8px; margin-top:12px; }
    input[type="text"] { flex:1; padding:10px 12px; background:#0b1113; color:#e6eef0; border:1px solid rgba(255,255,255,0.04); border-radius:10px; }

    /* Footer */
    footer { position:fixed; left:0; right:0; bottom:0; background:#0f1720; padding:10px 18px; display:flex; justify-content:center; color:#b8c7c8; font-size:13px; }

    /* Modal */
    .modal-backdrop { position:fixed; inset:0; background:rgba(0,0,0,0.55); display:flex; align-items:center; justify-content:center; z-index:40; backdrop-filter: blur(8px); }
    .modal { background:#0f1720; border-radius:12px; padding:20px; width:100%; max-width:420px; box-shadow:0 10px 30px rgba(0,0,0,0.6); position: relative; }
    .modal-close-btn { position: absolute; top: 10px; right: 10px; background: none; border: none; cursor: pointer; padding: 5px; }
    .modal-close-btn svg { width: 24px; height: 24px; color: #e6eef0; }
    .input { width:100%; padding:10px 12px; border-radius:8px; background:#0b1113; border:1px solid rgba(255,255,255,0.04); color:#e6eef0; margin-bottom:10px; }

    /* Tiny helpers */
    .muted { color:#9fb0b1; font-size:13px; }
    .title { color:#f7d77a; margin-bottom:8px; font-weight:700; }
    .error { color:#ff8a8a; font-size:13px; margin-bottom:8px; }

    /* Animations */
    @keyframes floatIn {
      0% { opacity:0; transform:translateY(8px) scale(.98) rotate(-3deg); }
      100% { opacity:1; transform:translateY(0) scale(1) rotate(0); }
    }
    .animate-in { animation:floatIn 900ms cubic-bezier(.2,.9,.3,1) both; }
    
    @keyframes pulse {
        0% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.2); opacity: 0.8; }
        100% { transform: scale(1); opacity: 1; }
    }
    .pulse-animation {
        animation: pulse 1.5s infinite;
    }
    .voice-icon {
        background-color: #14202b;
        transition: background-color 0.3s;
    }
    .voice-icon.listening {
        background-color: #1faa59;
    }
    .voice-page {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: calc(100vh - 100px);
    }
    .voice-text {
        font-size: 1.25rem;
        font-weight: 600;
        color: #cdddde;
        min-height: 1.5em;
        text-align: center;
    }

    /* Responsive adjustments for smaller screens */
    @media (max-width:900px) {
      .grid { grid-template-columns:repeat(1,1fr); }
      .columns { grid-template-columns:1fr; }
    }
    @media (max-width:600px) {
      .h1 { font-size:30px; }
      .lead { font-size:16px; }
    }
  </style>
</head>
<body>
  <div class="app" id="app">

    <!-- Header -->
    <header>
      <div class="left">
        <div id="backWrap" style="display:none;">
          <button id="backBtn" class="back" aria-label="Back">
            <!-- simple left arrow -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M15 18l-6-6 6-6" stroke="#e6eef0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </div>
      <div class="right" id="authControls">
        <!-- Home Button -->
        <button class="btn btn-ghost" id="homeBtn" style="display:none;" aria-label="Home">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden>
            <path d="M12 2L3 9h3v12h5v-7h2v7h5V9h3L12 2z" fill="#e6eef0"/>
          </svg>
        </button>
        <!-- Login/Signup or user info will be inserted here -->
        <button class="btn btn-primary small-btn" id="loginBtn">Login</button>
        <button class="btn btn-green small-btn" id="signupBtn">Sign up</button>
      </div>
    </header>

    <!-- Pages -->
    <main>
      <!-- Welcome -->
      <section id="welcome" class="page active">
        <div class="hero">
          <div class="brand animate-in">
            <!-- Inline decorative SVG hero -->
            <svg class="brand-svg" viewBox="0 0 420 160" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Lawgic">
              <rect width="100%" height="100%" fill="none"/>
              <text x="50%" y="38%" dominant-baseline="middle" text-anchor="middle" font-family="Playfair Display, Georgia, serif" font-size="64" fill="#D4AF37">LAWGIC</text>
              <text x="50%" y="74%" dominant-baseline="middle" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" fill="#D4AF37">YOUR RELIABLE PARTNER</text>
            </svg>
          </div>

          <h1 class="h1">Welcome to Lawgic</h1>
          <p class="lead">Demystify complex legal documents with AI. Choose your preferred way to interact:</p>

          <div class="actions">
            <button class="btn btn-primary" id="toChat">Chat Mode</button>
            <button class="btn btn-green" id="toVoice">Voice Mode</button>
          </div>
        </div>
      </section>

      <!-- Dashboard -->
      <section id="dashboard" class="page">
        <h2 class="title">Upload Your Document</h2>
        <div class="card">
          <p class="muted">Drag & drop your legal document here (UI-only demo)</p>
          <div style="height:18px;"></div>
          <!-- Hidden file input for file selection -->
          <input type="file" id="fileInput" style="display:none;" />
          <button class="btn small-btn" id="browseBtn">Browse Files</button>
        </div>

        <div style="height:26px"></div>

        <h3 class="title">Recent Documents</h3>
        <div class="grid" id="recentList">
          <div class="doc" data-doc="Rental Agreement.pdf"> <strong class="muted">Rental Agreement.pdf</strong><div class="muted" style="margin-top:6px">Uploaded recently</div></div>
          <div class="doc" data-doc="Loan Contract.pdf"> <strong class="muted">Loan Contract.pdf</strong><div class="muted" style="margin-top:6px">Uploaded recently</div></div>
          <div class="doc" data-doc="TOS.pdf"> <strong class="muted">TOS.pdf</strong><div class="muted" style="margin-top:6px">Uploaded recently</div></div>
        </div>
      </section>

      <!-- Summary / Viewer -->
      <section id="summary" class="page">
        <div class="columns">
          <div class="panel" id="originalDoc">
            <h3 style="color:#f7d77a;margin-top:0">Original Document</h3>
            <p class="muted">Upload / select a document to view full original text. (Demo placeholder)</p>
            <div style="height:10px"></div>
            <pre style="white-space:pre-wrap;color:#cfe6e7;font-size:14px">[Legal text content will be displayed here...]</pre>
          </div>

          <div class="panel">
            <h3 style="color:#f7d77a;margin-top:0">AI Simplified Summary</h3>
            <p style="color:#cfe6e7">This rental agreement states that the tenant must pay rent on the 5th of each month. The landlord is responsible for major repairs. Early termination fees apply.</p>

            <div class="chat-row" style="margin-top:16px">
              <input type="text" id="chatInput" placeholder="Ask a question..." />
              <button id="sendBtn" class="btn small-btn btn-primary">Send</button>
              <button id="micBtn" class="btn small-btn btn-green" title="Voice (demo)">Mic</button>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Voice Mode Page -->
      <section id="voice" class="page">
        <div class="voice-page">
          <div id="voiceIcon" class="voice-icon w-32 h-32 flex items-center justify-center rounded-full transition-all duration-300">
            <!-- Microphone Icon SVG -->
            <svg class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3.96-3.64 7.22-8.3 7.22S3.7 13.96 3.7 10H2a10 10 0 0010 10c2.5 0 4.85-.92 6.6-2.5L17 17.5V19h-2v-2.58A8.001 8.001 0 0012 14.96V21H10V14.96c-1.85-.29-3.52-.96-4.9-2.02l-.1.1V14h-2v-2h2.5c.2 0 .4-.03.6-.08.5-.1.97-.24 1.4-.42l.5-.2.5.2c.5.2.97.32 1.4.42.2.05.4.08.6.08H12c.5 0 .97-.08 1.4-.18l.5-.1.5.1c.5.1 1 .2 1.4.3L15.3 12h2z"/>
            </svg>
          </div>
          <p id="voiceText" class="voice-text mt-8">Press the button to start.</p>
          <button id="voiceBtn" class="btn btn-primary small-btn rounded-full px-8 py-3 text-lg font-bold mt-4">Start Voice</button>
        </div>
      </section>
      
      <!-- Document Options Page (updated) -->
      <section id="docOptions" class="page">
        <div class="hero">
          <h1 class="h1">What kind of document do you need information on?</h1>
          <p class="lead">Please select one of the following document types:</p>
          <div class="actions mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 w-full max-w-2xl">
            <button class="doc-option btn btn-primary py-4" data-doc-type="Rental Documents">Rental Documents</button>
            <button class="doc-option btn btn-green py-4" data-doc-type="Loan Contract">Loan Contract</button>
            <button class="doc-option btn btn-primary py-4" data-doc-type="TOS">TOS</button>
          </div>
        </div>
        
        <div style="height:26px"></div>
        
        <h2 class="title">Upload Your Document</h2>
        <div class="card">
          <p class="muted">Drag & drop your legal document here (UI-only demo)</p>
          <div style="height:18px;"></div>
          <!-- Hidden file input for file selection -->
          <input type="file" id="fileInput" style="display:none;" />
          <button class="btn small-btn" id="browseBtn">Browse Files</button>
        </div>

        <div style="height:26px"></div>

        <h3 class="title">Recent Documents</h3>
        <div class="grid" id="recentList">
          <div class="doc" data-doc="Rental Agreement.pdf"> <strong class="muted">Rental Agreement.pdf</strong><div class="muted" style="margin-top:6px">Uploaded recently</div></div>
          <div class="doc" data-doc="Loan Contract.pdf"> <strong class="muted">Loan Contract.pdf</strong><div class="muted" style="margin-top:6px">Uploaded recently</div></div>
          <div class="doc" data-doc="TOS.pdf"> <strong class="muted">TOS.pdf</strong><div class="muted" style="margin-top:6px">Uploaded recently</div></div>
        </div>
      </section>

    </main>

    <!-- Auth Modal (hidden) -->
    <div id="modalWrap" style="display:none;"></div>

    <!-- Footer -->
    <footer>
    </footer>
  </div>

<script>
  // Simple single-file client-side behavior for the static HTML version.

  // DOM references
  const pages = {
    welcome: document.getElementById('welcome'),
    dashboard: document.getElementById('dashboard'),
    summary: document.getElementById('summary'),
    voice: document.getElementById('voice'),
    docOptions: document.getElementById('docOptions'),
  };
  const backWrap = document.getElementById('backWrap');
  const backBtn = document.getElementById('backBtn');
  const homeBtn = document.getElementById('homeBtn');
  const loginBtn = document.getElementById('loginBtn');
  const signupBtn = document.getElementById('signupBtn');
  const authControls = document.getElementById('authControls');
  const modalWrap = document.getElementById('modalWrap');
  const recentList = document.getElementById('recentList');
  // New DOM references for file upload
  const fileInput = document.getElementById('fileInput');
  // New DOM references for voice page
  const voiceIcon = document.getElementById('voiceIcon');
  const voiceText = document.getElementById('voiceText');
  const voiceBtn = document.getElementById('voiceBtn');
  // New DOM references for doc options page
  const docOptionButtons = document.querySelectorAll('.doc-option');

  let current = 'welcome';
  function showPage(name) {
    Object.values(pages).forEach(p => p.classList.remove('active'));
    pages[name].classList.add('active');
    current = name;
    // Show/hide navigation buttons based on current page
    backWrap.style.display = (name !== 'welcome') ? 'inline-flex' : 'none';
    homeBtn.style.display = (name !== 'welcome') ? 'inline-flex' : 'none';
  }

  // initial
  showPage('welcome');

  // navigation buttons
  document.getElementById('toChat').addEventListener('click', () => showPage('docOptions'));
  document.getElementById('toVoice').addEventListener('click', () => showPage('voice'));
  // Update browse button listener to trigger the file input
  document.getElementById('browseBtn').addEventListener('click', () => fileInput.click());

  // Back button functionality
  backBtn.addEventListener('click', () => {
    if (current === 'summary') {
      showPage('docOptions');
    } else if (current === 'docOptions') {
      showPage('welcome');
    } else if (current === 'dashboard') {
      showPage('welcome');
    } else if (current === 'voice') {
      showPage('welcome');
    }
  });

  // Home button functionality
  homeBtn.addEventListener('click', () => {
    showPage('welcome');
  });

  // Handle file selection
  fileInput.addEventListener('change', (event) => {
    const file = event.target.files[0];
    if (file) {
      if (!file.name.toLowerCase().endsWith('.txt')) {
        document.getElementById('originalDoc').querySelector('pre').textContent = "This demo only supports text files (.txt). Please select a different file.";
        showPage('summary');
        return;
      }
      
      const reader = new FileReader();
      reader.onload = function(e) {
        const content = e.target.result;
        document.getElementById('originalDoc').querySelector('pre').textContent = content;
        showPage('summary');
      };
      reader.onerror = function() {
        document.getElementById('originalDoc').querySelector('pre').textContent = `Error reading file: ${file.name}`;
        showPage('summary');
      };
      // For this demo, we assume the user will upload a text-based file.
      reader.readAsText(file);
    }
  });

  // click recent documents -> summary view
  recentList.addEventListener('click', (ev) => {
    let el = ev.target;
    while (el && !el.dataset?.doc) el = el.parentElement;
    if (el && el.dataset.doc) {
      // set document title in summary if wanted
      document.getElementById('originalDoc').querySelector('pre').textContent = `[Contents of ${el.dataset.doc}] \\n\\n(Original document placeholder)`;
      showPage('summary');
    }
  });

  // Voice mode demo logic
  let voiceState = 'idle';
  let timeout1, timeout2, timeout3;

  function setVoiceState(state) {
      voiceState = state;
      updateVoiceUI();
  }

  function updateVoiceUI() {
      voiceBtn.textContent = (voiceState === 'idle') ? 'Start Voice' : 'Stop';
      voiceText.textContent = (voiceState === 'listening') ? 'Listening...' :
                              (voiceState === 'thinking') ? 'Thinking...' :
                              (voiceState === 'speaking') ? 'Speaking...' :
                              'Press the button to start.';
      
      voiceIcon.classList.remove('listening');
      voiceIcon.classList.remove('pulse-animation');
      
      if (voiceState === 'listening') {
          voiceIcon.classList.add('listening');
          voiceIcon.classList.add('pulse-animation');
      } else {
          voiceIcon.classList.remove('listening');
          voiceIcon.classList.remove('pulse-animation');
      }
  }

  function handleVoiceSession() {
      if (voiceState === 'idle') {
          setVoiceState('listening');
          // Simulate listening for 2 seconds before redirecting
          setTimeout(() => {
              setVoiceState('idle'); // Reset state
              showPage('docOptions'); // Redirect to document options
          }, 2000);
      } else {
          setVoiceState('idle');
      }
  }

  voiceBtn.addEventListener('click', handleVoiceSession);

  // Handle clicks on document options from voice mode
  docOptionButtons.forEach(button => {
    button.addEventListener('click', (event) => {
      const docType = event.target.dataset.docType;
      document.getElementById('originalDoc').querySelector('pre').textContent = `[Simulated content for ${docType}] \\n\\n(No actual content loaded for demo)`;
      showPage('summary');
    });
  });

  // Mock Auth using localStorage
  function updateAuthUI() {
    const raw = localStorage.getItem('lawgic_user');
    authControls.innerHTML = '';
    if (raw) {
      const user = JSON.parse(raw);
      const container = document.createElement('div');
      container.style.display = 'flex';
      container.style.alignItems = 'center';
      container.style.gap = '10px';

      const userBox = document.createElement('div');
      userBox.style.background = '#0f1720';
      userBox.style.padding = '8px 10px';
      userBox.style.borderRadius = '999px';
      userBox.style.display = 'flex';
      userBox.style.alignItems = 'center';
      userBox.style.gap = '8px';
      userBox.innerHTML = '<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M12 12a5 5 0 100-10 5 5 0 000 10zm0 2c-5 0-9 2.5-9 6v2h18v-2c0-3.5-4-6-9-6z\" stroke=\"#cfe6e7\" stroke-width=\"1.2\" fill=\"none\"/></svg>'
        + '<span style=\"color:#cfe6e7;font-size:14px\">' + (user.name || user.email) + '</span>';
      container.appendChild(userBox);

      const logout = document.createElement('button');
      logout.className = 'btn small-btn';
      logout.style.background = '#b91c1c';
      logout.style.color = 'white';
      logout.textContent = 'Logout';
      logout.addEventListener('click', () => { localStorage.removeItem('lawgic_user'); updateAuthUI(); });
      container.appendChild(logout);

      authControls.appendChild(container);
    } else {
      const login = document.createElement('button');
      login.className = 'btn btn-primary small-btn';
      login.id = 'loginBtn2';
      login.textContent = 'Login';
      login.addEventListener('click', () => openAuthModal('login'));
      const signup = document.createElement('button');
      signup.className = 'btn btn-green small-btn';
      signup.textContent = 'Sign up';
      signup.addEventListener('click', () => openAuthModal('signup'));
      authControls.appendChild(login);
      authControls.appendChild(signup);
    }
  }

  // initial auth UI
  updateAuthUI();

  // wire existing static buttons (for first-render)
  document.getElementById('loginBtn')?.addEventListener('click', () => openAuthModal('login'));
  document.getElementById('signupBtn')?.addEventListener('click', () => openAuthModal('signup'));

  function openAuthModal(mode = 'login') {
    modalWrap.innerHTML = '';
    const backdrop = document.createElement('div');
    backdrop.className = 'modal-backdrop';
    backdrop.style.zIndex = 9999;

    const modal = document.createElement('div');
    modal.className = 'modal';
    modal.innerHTML = `
      <button id="modalCloseBtn" class="modal-close-btn">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
      </button>
      <h3 style="margin:0 0 10px;color:#f7d77a;font-weight:700">${mode === 'login' ? 'Login' : 'Sign up'}</h3>
      <div id="authError" style="display:none;color:#ff8a8a;margin-bottom:8px"></div>
      <form id="authForm">
        ${mode === 'signup' ? '<input name="name" placeholder="Full name" class="input" />' : ''}
        <input name="email" placeholder="Email" type="email" class="input" />
        <input name="password" placeholder="Password" type="password" class="input" />
        <div style="display:flex;gap:8px;align-items:center">
          <button type="submit" class="btn btn-primary small-btn">${mode === 'login' ? 'Login' : 'Create account'}</button>
          <button type="button" id="toggleMode" class="btn small-btn" style="background:transparent;color:#cfe6e7">${mode === 'login' ? 'Create an account' : 'Have an account? Login'}</button>
        </div>
        <div style="height:8px"></div>
      </form>
    `;
    backdrop.appendChild(modal);
    modalWrap.appendChild(backdrop);
    modalWrap.style.display = 'block';

    const form = document.getElementById('authForm');
    const authError = document.getElementById('authError');

    form.addEventListener('submit', (ev) => {
      ev.preventDefault();
      const fd = new FormData(form);
      const email = fd.get('email')?.trim();
      const password = fd.get('password')?.trim();
      const name = fd.get('name')?.trim();
      if (!email || !password || (mode === 'signup' && !name)) {
        authError.textContent = 'Please fill all required fields.';
        authError.style.display = 'block';
        return;
      }
      const saved = { name: mode === 'signup' ? name : (name || 'User'), email };
      localStorage.setItem('lawgic_user', JSON.stringify(saved));
      modalWrap.innerHTML = '';
      modalWrap.style.display = 'none';
      updateAuthUI();
    });

    document.getElementById('toggleMode').addEventListener('click', () => {
      modalWrap.innerHTML = '';
      openAuthModal(mode === 'login' ? 'signup' : 'login');
    });

    document.getElementById('modalCloseBtn').addEventListener('click', () => {
      modalWrap.innerHTML = '';
      modalWrap.style.display = 'none';
    });
  }

  // Chat input (demo)
  document.getElementById('sendBtn').addEventListener('click', () => {
    const q = document.getElementById('chatInput').value.trim();
    if (!q) return alert('Type a question (demo).');
    alert('Demo AI reply for question:\\n\"' + q + '\"\\n\\n(Since this is HTML-only demo, integrate your AI backend to answer.)');
  });

  // Voice button (placeholder)
  document.getElementById('micBtn').addEventListener('click', () => alert('Voice mode demo: integrate Web Speech API / backend for real voice support.'));

  // simple keyboard accessibility: Esc to close modal
  window.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
      modalWrap.innerHTML = '';
      modalWrap.style.display = 'none';
    }
  });
</script>
</body>
</html>
